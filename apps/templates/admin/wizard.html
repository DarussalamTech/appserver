 {% extends "admin/base_site.html" %}


<div class="breadcrumbs"></div><!--  -->

{% block content %}

<link href="{{STATIC_URL}}css/bootstrap.min.css" rel="stylesheet">
<link href="{{STATIC_URL}}css/prettify.css" rel="stylesheet">
<div class='container'>

	<div class="span12">
		<section id="wizard">
			<div class="page-header">
				<h1>Create New Application</h1>
			</div>

			<div id="rootwizard">
				<div class="navbar">
					<div class="navbar-inner">
						<div class="container">
							<ul>
								<li><a href="#tab1" data-toggle="tab">App Info</a></li>
								<li><a href="#tab2" data-toggle="tab">App Details</a></li>
								<li><a href="#tab3" data-toggle="tab">App Features</a></li>
							
							</ul>
						</div>
					</div>
				</div>
				<div id="bar" class="progress progress-striped active">
					<div class="bar"></div>
				</div>
				<div class="tab-content">
					<div class="tab-pane" id="tab1" align="center">
						<link href="{{ MEDIA_URL }}css/bootstrap.min.css" rel="stylesheet" media="screen">
						<script src="{{ MEDIA_URL }}js/bootstrap.min.js"></script>
						{% if form.errors %} 
						{% endif %}
						<form action="" method="post" id="my_form" accept-charset="utf-8">


							{% csrf_token %} {{ appform1.as_p }} 
							<input class="previous" type="button"
								value="Continue" onclick="send_form();" />
								


						</form>
					</div>
					<div class="tab-pane" id="tab2" align="center">
						
								{% csrf_token %} {{ appform2.as_p }} <input class="previous" type="button"
								value="Continue" />
						
					</div>
					<div class="tab-pane" id="tab3"align="center">
						
								{% csrf_token %} {{ appform3.as_p }} <input class="previous" type="button"
								value="Continue" /></div>
				<!-- 	<div class="tab-pane" id="tab4">4</div>
					<div class="tab-pane" id="tab5">5</div>
					<div class="tab-pane" id="tab6">6</div>
					<div class="tab-pane" id="tab7">7</div> -->
					<ul class="pager wizard">
						<li class="previous first" style="display: none;"><a href="#">First</a></li>
						<li class="previous"><a href="#">Previous</a></li>
						<li class="next last" style="display: none;"><a href="#">Last</a></li>
						<li class="next"><a href="#">Next</a></li>
					</ul>
				</div>
			</div>





		</section>
	</div>
</div>

<style>
.clear {
	clear: both
}
</style>
<script src="http://code.jquery.com/jquery-latest.js"></script>
<script src="{{STATIC_URL}}js/bootstrap.min.js"></script>
<script src="{{STATIC_URL}}js/jquery.bootstrap.wizard.js"></script>
<script src="{{STATIC_URL}}js/prettify.js"></script>
<script src="{{STATIC_URL}}dajax/jquery.dajax.core.js"></script>
<!-- <script src="{{STATIC_URL}}js/dj.js"></script> -->
<script>

	$(document).ready(function() {
		$('#rootwizard').bootstrapWizard({
			onNext : function(tab, navigation, index) {
				if(index==1) {
					$.ajax({
						url: "{% url 'admin:appajax' %}",
						data: $('#my_form').serialize(),
						type: 'post'
						}).done(function(response) {
						/* $( this ).addClass( "done" ); */
						$('#my_form').val(response);
						alert(response);
						
						});
					
				/* 	// Make sure we entered the name
					if(!$('#id_name').val()) {
						alert('You must enter App name');
						$('#name').focus();
						return false;
					}
					else if(!$('#id_icon').val()) {
						alert('You must enter the icon');
						$('#name').focus();
						return false;
					}
					else if(!$('#id_description').val()) {
						alert('You must enter Description');
						$('#name').focus();
						return false;
					} */
				}
				

				// Set the name for the next tab
			/* 	$('#tab3').html('Hello, ' + $('#name').val()); */

			},
			onTabShow : function(tab, navigation, index) {
				var $total = navigation.find('li').length;
				var $current = index + 1;
				var $percent = ($current / $total) * 100;
				$('#rootwizard').find('.bar').css({
					width : $percent + '%'
				});
			}
		});
		window.prettyPrint && prettyPrint()
	});
</script>
{% endblock %}
